<!doctype html>
<html lang="de">
<head><meta charset="utf-8"><title>Dieselfloater Editor</title></head>
<body>
<h2>Dieselfloater Editor</h2>
<div id="list"></div>
<button onclick="download()">floater.json herunterladen</button>

<script>
let data={};
fetch("zones.csv").then(r=>r.text()).then(t=>{
  const rows=t.trim().split(/\r?\n/).slice(1);
  [...new Set(rows.map(r=>r.split(";")[0]))].forEach(f=>data[f]=0);
  render();
});

function render(){
  const d=document.getElementById("list"); d.innerHTML="";
  Object.keys(data).forEach(f=>{
    const i=document.createElement("input");
    i.value=data[f];
    i.oninput=()=>data[f]=Number(i.value);
    d.append(f," ",i,document.createElement("br"));
  });
}

function download(){
  const blob=new Blob([JSON.stringify(data,null,2)],{type:"application/json"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="floater.json";
  a.click();
}
</script>
</body>
</html>